<div class="row" fadeInDirective>
  <div class="col-lg-12 form-wrapper">
    <h1 class="page-header">
      News Editor
    </h1>
    <form role="form" novalidate [formGroup]="newsForm" (ngSubmit)="saveNews()">
      <div class="form-group">
        <label>Category</label>
        <select  class="form-control"
                formControlName="categoryID">
          <option value="">Select Category</option>
          <option *ngFor="let obj of objCatList" [value]="obj._id">{{obj.categoryName}}</option>
        </select>
        <control-messages [isSubmitted]="isSubmitted"
                          [control]="newsForm.controls['categoryID']"></control-messages>
      </div>
      <div class="form-group">
        <label>News</label>
        <input class="form-control" name="newsTitle"
               placeholder="Enter News Title" formControlName="newsTitle">
        <control-messages [isSubmitted]="isSubmitted"
                          [control]="newsForm.controls['newsTitle']"></control-messages>
      </div>
      <div class="form-group">
        <label>News Summary</label>
        <textarea class="form-control"
                  formControlName="newsSummary"
                  name="newsSummary"
                  placeholder="Enter News Summary"></textarea>
        <control-messages [isSubmitted]="isSubmitted"
                          [control]="newsForm.controls['newsSummary']"></control-messages>
      </div>
      <div class="form-group">
        <label>News Description</label>

        <tiny-editor module="news" [value]="objNews.newsDescription"
                     [editorFormControl]="editorFormControl" 
                                          (valueChange)="editorValueChange($event)"></tiny-editor>
      </div>
      <div class="form-group">
        <label>News Author</label>
        <input class="form-control" name="role" 
               formControlName="newsAuthor"
               placeholder="Enter News Author">
        <control-messages [isSubmitted]="isSubmitted"
                          [control]="newsForm.controls['newsAuthor']"></control-messages>
      </div>
      <div class="form-group">
        <label>Publish Date</label>
        <div class="form-group">

          <!-- <p-calendar [(ngModel)]="objNews.newsDate" [readonlyInput]="true"
                      [showIcon]="true"
                      formControlName="newsDate"
                      inputStyleClass="form-control, inline-cal"
                      dateFormat="yy-mm-dd"></p-calendar> -->
                      <input matInput [matDatepicker]="picker" [min]="today" [(ngModel)]="objNews.newsDate" formControlName="newsDate">
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker></mat-datepicker>

          <control-messages [isSubmitted]="isSubmitted"
                            [control]="newsForm.controls['newsDate']"></control-messages>

        </div>

      </div>
      <div class="form-group ">
        <image-uploader [isSubmitted]="isSubmitted" [canvasSize]="canvasSize"
                        [imageFormControl]="imageFormControl"
                        (deleteImageEvent)="deleteImage($event)"
                        [imageName]="fileName" [drawImagePath]="drawImagePath"
                        allowDelete="true"
                        (fileSelectedEvent)="changeFile($event)"></image-uploader>
      </div>
      <div class="form-group ">

        <label>
          <mat-checkbox formControlName="active">
            Active
          </mat-checkbox>
        </label>
      </div>

      <button type="submit" class="btn btn-primary" processing><i class="fa fa-floppy-o"></i> Save</button>
      <button type="button" (click)="triggerCancelForm()" class="btn  btn-danger"><i class="fa fa-times"></i> Cancel
      </button>

    </form>
  </div>
</div>

